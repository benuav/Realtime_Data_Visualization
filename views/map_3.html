<!DOCTYPE html>
<html>

    <head>
        <link rel="stylesheet" href="../css/style.css">
        
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>

         <!-- Make sure you put this AFTER Leaflet's CSS -->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

        <style>
            #mapid {
                height: 180px; 
            }
        </style>

        <title>My Project</title>
    </head>

    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="map_2.html">Google Map</a></li>
        <li><a href="map_1.html">Map Box</a></li>
        <li><a href="gauge_1.html">Prototype 1</a></li>
        <li><a href="gauge_2.html">prototype 2</a></li>
        <li><a href="gauge_3.html">prototype 3</a></li>
      </ul>


    <body>
        <h1>Map Leaflet.js (ISS)</h1>
        <p>lattitue: <span id="lat"></span> <br>
            longitude: <span id="lon"></span>
        </p>

        <div id="mapid"></div>
        



        <script>
            const mymap = L.map('mapid').setView([51.505, -0.09], 13);

            const attribution=
                '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',

            const tileUrl = 'https://{s}.tile.openstreetmap.org/${z}/${x}/${y}.png';
         //   L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {

            
            const titles = L.tileLayer(tileUrl,{attribution});

            titles.addTo(mymap);

            const api_url = 'https://api.wheretheiss.at/v1/satellites/25544';
            async function getISS(){
                const response = await fetch (api_url);
                const data = await response.json();
                const {latitude, longitude} = data; //call lat and lon from json and put into data

                document.getElementById('lat').textContent = latitude;
                document.getElementById('lon').textContent = longitude;


                console.log(data);
                ///console.log(data.latitude);
                ///console.log(data.longitude);

            }

            getISS()

       
        </script>


    </body>
</html>
